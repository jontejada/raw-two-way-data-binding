<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Data Binding Warmup</title>
    <script type="text/javascript">
      // Challenge #1
      // start with the code from 04.html
      // using setInterval, make it so that if you change window.pizzaSize in Chrome dev tools
      // the pizzaSize inputs and labels will change with it
      document.addEventListener('DOMContentLoaded', function(){
        var arr = document.querySelectorAll('input[data-bind]');
        console.log(arr)
        for (i = 0; i <arr.length; i++){Â 
          var db = arr[i].getAttribute('id');
          document.querySelector('input[id=' + db + ']').addEventListener('keyup', function (e){
            var dbInner = e.target.getAttribute('data-bind');
            window[dbInner] = e.target.value;
            document.querySelector('span[data-bind=' + dbInner + ']').innerHTML = window[dbInner];
          })
        }

        // var stuff = ['pizzaSize', 'pizzaCrust', 'pizzaSize2', 'pizzaCrust2'];
        // for (var j = 0; j<stuff.length; j++) {
        //   window[stuff[j]]=10;
        //   var str = stuff[j];
        //   window.setInterval(function(){
        //     console.log(str);
        //     document.querySelector('span[data-bind=' + str + ']').innerHTML = window[str];
        //   }, 1000)
        // }
        window.pizzaSize = "";
        window.pizzaSize2 = "";
        window.pizzaCrust = "";
        window.pizzaCrust2 = "";
        var someInterval = window.setInterval(myCallback, 1000);
        function myCallback(){
          document.querySelector('span[data-bind]').innerHTML = window.pizzaSize;
          document.querySelector('input[data-bind]').value = window.pizzaSize;
        }
      })
    </script>
  </head>
  <body>
    <fieldset>
      <legend>Pizza Size</legend>
      <p>
        <label for="pizza-size">What size would you like your pizza?</label>
        <input type="text" id="pizza-size" name="size" value="" data-bind="pizzaSize">
      </p>
      <p>
        <strong>Size: </strong>
        <span data-bind="pizzaSize"></span>
      </p>
    </fieldset>
    <fieldset>
      <legend>Crust</legend>
      <p>
        <label for="pizza-crust">What crust would you like your pizza?</label>
        <input type="text" id="pizza-crust" name="size" value="" data-bind="pizzaCrust">
      </p>
      <p>
        <strong>Crust: </strong>
        <span data-bind="pizzaCrust"></span>
      </p>
    </fieldset>
    <fieldset>
      <legend>Pizza Size</legend>
      <p>
        <label for="pizza-size-2">What size would you like your pizza?</label>
        <input type="text" id="pizza-size-2" name="size" value="" data-bind="pizzaSize2">
      </p>
      <p>
        <strong>Size: </strong>
        <span data-bind="pizzaSize2"></span>
      </p>
    </fieldset>
    <fieldset>
      <legend>Crust</legend>
      <p>
        <label for="pizza-crust-2">What crust would you like your pizza?</label>
        <input type="text" id="pizza-crust-2" name="size" value="" data-bind="pizzaCrust2">
      </p>
      <p>
        <strong>Crust: </strong>
        <span data-bind="pizzaCrust2"></span>
      </p>
    </fieldset>
  </body>
</html>
